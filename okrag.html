<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Okrąg jednostkowy</title>
  <link rel="stylesheet" href="assets/style.css" />
  <script>
  window.MathJax = {
    tex: { inlineMath: [['\\(','\\)'], ['$', '$']] },
    options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
  };
</script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  <script src="https://www.geogebra.org/apps/deployggb.js"></script>
</head>
<body>
<header>
  <div class="container navbar">
    <div class="brand">
      <div class="brand-badge"></div>
      <div>
        <div>Trygonometria</div>
        <div class="small">MathJax • GeoGebra • 5 podstron</div>
      </div>
    </div>
    <nav class="navlinks">
      <a href="index.html">Start</a>
      <a href="okrag.html">Okrąg jednostkowy</a>
      <a href="wykresy.html">Wykresy</a>
      <a href="tozsamosci.html">Tożsamości</a>
      <a href="zastosowania.html">Zastosowania</a>
    </nav>
    <div class="actions">
      <button id="themeToggle" type="button">Tryb</button>
    </div>
  </div>
</header>
<main class="container" style="padding:18px 0;">
  <section class="card">
    <h1>Okrąg jednostkowy</h1>
    <p class="kicker">
      Okrąg jednostkowy ma promień 1 i środek w \(O(0,0)\). Dla kąta \(\alpha\) punkt na okręgu:
    </p>
    <div class="math-block">
      \[
        P(\cos\alpha,\ \sin\alpha)
      \]
    </div>

    <div class="columns" style="margin-top:14px">
      <div>
        <h2>Znaczenie współrzędnych</h2>
        <div class="math-block">
          \[
            \cos\alpha = x,\quad \sin\alpha = y,\quad \tan\alpha = \frac{y}{x}\ (x\neq 0)
          \]
        </div>

        <h2>Wartości charakterystyczne</h2>
        <div class="math-block">
          \[
          \begin{array}{c|c|c|c}
          \alpha & \sin\alpha & \cos\alpha & \tan\alpha\\ \hline
          0^\circ & 0 & 1 & 0\\
          30^\circ & \frac12 & \frac{\sqrt3}{2} & \frac{1}{\sqrt3}\\
          45^\circ & \frac{\sqrt2}{2} & \frac{\sqrt2}{2} & 1\\
          60^\circ & \frac{\sqrt3}{2} & \frac12 & \sqrt3\\
          90^\circ & 1 & 0 & \text{brak}
          \end{array}
          \]
        </div>
      </div>

      <div class="note">
        <b>Znaki funkcji w ćwiartkach:</b>
        <ul>
          <li>I: \(\sin>0,\ \cos>0\)</li>
          <li>II: \(\sin>0,\ \cos<0\)</li>
          <li>III: \(\sin<0,\ \cos<0\)</li>
          <li>IV: \(\sin<0,\ \cos>0\)</li>
        </ul>
      </div>
    </div>

    <hr/>

    <h2>Aplet GeoGebra</h2>
    <p class="kicker">Interaktywny okrąg jednostkowy utworzony przez JavaScript (GeoGebra API).</p>
    <div class="figure">
      <div id="ggb-element" class="geogebra-wrap" aria-label="GeoGebra applet container"></div>
      <div id="ggb-fallback" style="display:none">
        <iframe title="GeoGebra Graphing" src="https://www.geogebra.org/graphing?embed" style="width:100%;height:700px;border:0" allowfullscreen></iframe>
      </div>
      <div class="cap">Jeśli aplet nie uruchomi się automatycznie, włączy się widok zapasowy.</div>
    </div>

    <script>
      window.addEventListener('load', function () {
        function showFallback() {
          var fb = document.getElementById('ggb-fallback');
          var host = document.getElementById('ggb-element');
          if (fb && host) {
            host.style.display = 'none';
            fb.style.display = 'block';
          }
        }

        try {
          if (typeof GGBApplet !== 'function') {
            showFallback();
            return;
          }

          var params = {
            appName: "graphing",
            width: 1200,
            height: 700,
            showToolBar: true,
            showAlgebraInput: true,
            showMenuBar: true,
            enableRightClick: true,
            enableShiftDragZoom: true,
            language: "pl",
            appletOnLoad: function(api) {
              try {
                api.evalCommand('O=(0,0)');
                api.evalCommand('c: x^2+y^2=1');
                api.evalCommand('A=(1,0)');
                api.evalCommand('B=Point(c)');
                api.evalCommand('r=Ray(O,(1,0))');
                api.evalCommand('s=Ray(O,B)');
                api.evalCommand('alpha=Angle(r,s)');
                api.evalCommand('X=(x(B),0)');
                api.evalCommand('Y=(0,y(B))');
                api.evalCommand('Segment(B,X)');
                api.evalCommand('Segment(B,Y)');
                api.evalCommand('Text("cos(α) = " + x(B), (1.2, 1.2))');
                api.evalCommand('Text("sin(α) = " + y(B), (1.2, 1.0))');
                api.setFixed('c', true, true);
                api.setFixed('O', true, true);
              } catch(e) {}
            }
          };

          var app = new GGBApplet(params, true);
          app.inject('ggb-element');

          setTimeout(function () {
            var host = document.getElementById('ggb-element');
            if (!host) return;
            var has = host.querySelector('iframe, canvas, applet, svg');
            if (!has) showFallback();
          }, 2000);
        } catch (e) {
          showFallback();
        }
      });
    </script>

</section>
</main>

<footer>
  <div class="container">
    <div class="small">© Projekt edukacyjny — Okrąg jednostkowy</div>
  </div>
</footer>

<script>
  window.addEventListener('load', function () {
    var injected = false;

    function showFallback() {
      if (injected) return;
      var fb = document.getElementById('ggb-fallback');
      var host = document.getElementById('ggb-element');
      if (fb && host) {
        host.style.display = 'none';
        fb.style.display = 'block';
      }
    }

    try {
      if (typeof GGBApplet === 'function') {
        var params = {
          material_id: "mzqhe3hg",
          width: 1200,
          height: 700,
          showToolBar: true,
          showAlgebraInput: true,
          showMenuBar: true,
          enableRightClick: true,
          enableShiftDragZoom: true
        };
        var app = new GGBApplet(params, true);
        app.inject('ggb-element');
        injected = true;
      } else {
        showFallback();
      }
    } catch (e) {
      showFallback();
    }

    setTimeout(function () {
      var host = document.getElementById('ggb-element');
      if (!host) return;
      var hasIframe = host.querySelector('iframe');
      var hasCanvas = host.querySelector('canvas');
      var hasApplet = host.querySelector('applet');
      if (!hasIframe && !hasCanvas && !hasApplet) {
        injected = false;
        showFallback();
      }
    }, 1200);
  });
</script>
<script src="assets/app.js"></script>
</body>
</html>
