:root{
  --bg:#0b1220;--panel:rgba(255,255,255,0.06);--panel2:rgba(255,255,255,0.10);
  --text:rgba(255,255,255,0.92);--muted:rgba(255,255,255,0.70);
  --brand:#7c3aed;--brand2:#22c55e;--warning:#f59e0b;--danger:#ef4444;
  --border:rgba(255,255,255,0.14);--shadow:0 18px 55px rgba(0,0,0,0.45);
  --radius:18px;--maxw:1080px;--code:rgba(255,255,255,0.08);
}
[data-theme="light"]{
  --bg:#f5f7ff;--panel:rgba(0,0,0,0.05);--panel2:rgba(0,0,0,0.08);
  --text:rgba(0,0,0,0.88);--muted:rgba(0,0,0,0.62);
  --brand:#6d28d9;--brand2:#16a34a;--border:rgba(0,0,0,0.14);
  --shadow:0 18px 55px rgba(0,0,0,0.18);--code:rgba(0,0,0,0.05);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(124,58,237,0.40), transparent 60%),
    radial-gradient(900px 650px at 80% 20%, rgba(34,197,94,0.22), transparent 55%),
    radial-gradient(900px 650px at 70% 95%, rgba(245,158,11,0.14), transparent 50%),
    var(--bg);
  color: var(--text);
  line-height: 1.6;
}
a{color: inherit; text-decoration:none}
a:hover{opacity:0.92}
.container{max-width:var(--maxw);margin:0 auto;padding:0 18px;}
header{
  position:sticky;top:0;z-index:10;
  backdrop-filter: blur(10px);
  background: linear-gradient(to bottom, rgba(0,0,0,0.25), transparent);
  border-bottom:1px solid var(--border);
}
.navbar{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:14px 0;}
.brand{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:0.2px;}
.brand-badge{
  width:34px;height:34px;border-radius:10px;
  background: linear-gradient(135deg, var(--brand), var(--brand2));
  box-shadow: var(--shadow);
}
.navlinks{display:flex;flex-wrap:wrap;gap:8px;align-items:center;justify-content:flex-end;}
.navlinks a{
  padding:8px 10px;border-radius:12px;border:1px solid transparent;
  color:var(--muted);font-weight:600;font-size:14px;
}
.navlinks a.active{background:var(--panel);border-color:var(--border);color:var(--text);}
.actions{display:flex;gap:10px;align-items:center;}
button{
  border:1px solid var(--border);background:var(--panel);color:var(--text);
  padding:9px 12px;border-radius:12px;cursor:pointer;font-weight:700;font-size:14px;
}
button:hover{background:var(--panel2)}
button:active{transform:translateY(1px)}
.hero{padding:34px 0 18px;}
.hero-card{
  background: linear-gradient(180deg, var(--panel2), var(--panel));
  border:1px solid var(--border);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:22px;
}
.grid{display:grid;grid-template-columns:1.35fr 0.65fr;gap:16px;align-items:start;}
@media (max-width:900px){.grid{grid-template-columns:1fr}}
h1,h2,h3{line-height:1.15;margin:0 0 10px}
h1{font-size:clamp(26px,3vw,38px)}
h2{font-size:clamp(20px,2.4vw,28px);margin-top:8px}
h3{font-size:18px;margin-top:8px}
.kicker{color:var(--muted);font-weight:650;margin:2px 0 12px;}
.card{
  background:var(--panel);border:1px solid var(--border);
  border-radius:var(--radius);padding:18px;box-shadow:var(--shadow);
}
.badges{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
.badge{
  display:inline-flex;align-items:center;gap:8px;padding:6px 10px;
  border-radius:999px;border:1px solid var(--border);
  background:rgba(0,0,0,0.10);color:var(--muted);font-weight:700;font-size:13px;
}
.dot{width:8px;height:8px;border-radius:999px;background:var(--brand);}
.dot.g{background:var(--brand2)}
.dot.y{background:var(--warning)}
.dot.r{background:var(--danger)}
ul{margin:10px 0 0 20px}
li{margin:6px 0}
hr{border:0;border-top:1px solid var(--border);margin:14px 0;}
.note{
  border-left:4px solid var(--brand);
  padding:10px 12px;background:rgba(124,58,237,0.12);
  border-radius:12px;color:var(--text);
}
.math-block{
  padding:12px 12px;background:var(--code);
  border:1px solid var(--border);border-radius:14px;overflow-x:auto;
}
.columns{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
@media (max-width:900px){.columns{grid-template-columns:1fr}}
.figure{
  border-radius:var(--radius);overflow:hidden;
  border:1px solid var(--border);background:rgba(0,0,0,0.10);
}
.figure .cap{
  padding:10px 12px;border-top:1px solid var(--border);
  color:var(--muted);font-weight:650;font-size:13px;
}
footer{
  margin-top:26px;padding:22px 0 30px;color:var(--muted);
  border-top:1px solid var(--border);
  background: linear-gradient(to top, rgba(0,0,0,0.18), transparent);
}
.small{font-size:13px;color:var(--muted);}
.geogebra-wrap{width:100%;min-height:560px;}
